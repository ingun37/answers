<div *ngIf="questionMD; else questionElseBlock">
    <button *ngIf="edit" mat-icon-button [routerLink]="[editLink, 'question']">
        <mat-icon>edit</mat-icon>
    </button>
    <app-excerpt [mdstr]="questionMD"></app-excerpt>
</div>
<ng-template #questionElseBlock>
    <div *ngIf="questionMD == null; else questionEmptyBlock">
        loading...
    </div>
    <ng-template #questionEmptyBlock>
        <button *ngIf="edit" mat-raised-button [routerLink]="[editLink, 'question']">Write Question <mat-icon>edit
            </mat-icon></button>
    </ng-template>
</ng-template>

<div *ngIf="answerMD; else answerElseBlock">
    <mat-divider></mat-divider>

    <button *ngIf="edit" mat-icon-button [routerLink]="[editLink, 'answer']">
        <mat-icon>edit</mat-icon>
    </button>
    <app-excerpt [mdstr]="answerMD"></app-excerpt>
</div>
<ng-template #answerElseBlock>
    <div *ngIf="answerMD == null; else answerEmptyBlock">
        loading...
    </div>
    <ng-template #answerEmptyBlock>
        <button *ngIf="edit" mat-raised-button [routerLink]="[editLink, 'answer']">Write Answer <mat-icon>edit
            </mat-icon></button>
    </ng-template>
</ng-template>

<div class="sectionbox">
    <div *ngIf="children">
        <div *ngFor="let sub of children">
            <mat-button-toggle-group #group="matButtonToggleGroup" multiple="true">
                <mat-button-toggle value="fold" aria-label="fold/unfold" (change)="onChange(sub.path, $event)">
                    <mat-icon>expand_more</mat-icon>
                    {{sub.title}}
                </mat-button-toggle>
            </mat-button-toggle-group>
            <div *ngIf="unfolds.has(sub.path)">
                <app-section [edit]="edit" [item]="sub"></app-section>
            </div>
        </div>
    </div>
    <button *ngIf="edit" mat-raised-button (click)="addClick();">Add Section <mat-icon>add</mat-icon></button>
</div>