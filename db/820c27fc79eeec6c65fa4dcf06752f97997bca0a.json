{"parentSha1":"bd467f809ce2a42bd342fce03ff7fd2bd3d8446c","path":"answers-db/books/Category Theory For Programmers/10. Natural Transformations","item":{"title":"10. Natural Transformations","attr":{},"sha1":"820c27fc79eeec6c65fa4dcf06752f97997bca0a"},"kids":[{"title":"2","attr":{"q":"<p>Define at least two different natural transformations between <code>Reader ()</code> and the list functor. How many different lists of <code>()</code> are there?</p>","a":"<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">data</span> <span class=\"dt\">Reader</span> a b <span class=\"ot\">=</span> <span class=\"dt\">Reader</span> (a <span class=\"ot\">-&gt;</span> b)</span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">nt1 ::</span> <span class=\"dt\">Reader</span> () a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>nt1 (<span class=\"dt\">Reader</span> f) <span class=\"ot\">=</span> [f ()]</span>\n<span id=\"cb1-4\"><a href=\"#cb1-4\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">nt2 ::</span> <span class=\"dt\">Reader</span> () a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-5\"><a href=\"#cb1-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>nt2 _ <span class=\"ot\">=</span> []</span>\n<span id=\"cb1-6\"><a href=\"#cb1-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">nt3 ::</span> <span class=\"dt\">Reader</span> () a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-7\"><a href=\"#cb1-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>nt3 (<span class=\"dt\">Reader</span> f) <span class=\"ot\">=</span> f () <span class=\"op\">:</span> nt3 (<span class=\"dt\">Reader</span> f)</span></code></pre></div>"},"sha1":"4a5b0e958f0e53de284140d44119934c47006bbc"},{"title":"3","attr":{"q":"<p>Continue the previous exercise with <code>Reader Bool</code> and <code>Maybe</code>.</p>","a":"<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">data</span> <span class=\"dt\">Reader</span> a b <span class=\"ot\">=</span> <span class=\"dt\">Reader</span> (a <span class=\"ot\">-&gt;</span> b)</span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">rb1 ::</span> <span class=\"dt\">Reader</span> <span class=\"dt\">Bool</span> a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-4\"><a href=\"#cb1-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>rb1 (<span class=\"dt\">Reader</span> f) <span class=\"ot\">=</span> [f <span class=\"dt\">True</span>]</span>\n<span id=\"cb1-5\"><a href=\"#cb1-5\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">rb2 ::</span> <span class=\"dt\">Reader</span> <span class=\"dt\">Bool</span> a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-6\"><a href=\"#cb1-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>rb2 _ <span class=\"ot\">=</span> []</span>\n<span id=\"cb1-7\"><a href=\"#cb1-7\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">rb3 ::</span> <span class=\"dt\">Reader</span> <span class=\"dt\">Bool</span> a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-8\"><a href=\"#cb1-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>rb3 (<span class=\"dt\">Reader</span> f) <span class=\"ot\">=</span> f <span class=\"dt\">False</span> <span class=\"op\">:</span> rb3 (<span class=\"dt\">Reader</span> f)</span>\n<span id=\"cb1-9\"><a href=\"#cb1-9\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-10\"><a href=\"#cb1-10\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">m1 ::</span> <span class=\"dt\">Maybe</span> a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-11\"><a href=\"#cb1-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>m1 (<span class=\"dt\">Just</span> a) <span class=\"ot\">=</span> [a]</span>\n<span id=\"cb1-12\"><a href=\"#cb1-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>m1 <span class=\"dt\">Nothing</span> <span class=\"ot\">=</span> []</span>\n<span id=\"cb1-13\"><a href=\"#cb1-13\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">m2 ::</span> <span class=\"dt\">Maybe</span> a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-14\"><a href=\"#cb1-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>m2 _ <span class=\"ot\">=</span> []</span>\n<span id=\"cb1-15\"><a href=\"#cb1-15\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">m3 ::</span> <span class=\"dt\">Maybe</span> a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-16\"><a href=\"#cb1-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>m3 (<span class=\"dt\">Just</span> a) <span class=\"ot\">=</span> a <span class=\"op\">:</span> m3 (<span class=\"dt\">Just</span> a)</span>\n<span id=\"cb1-17\"><a href=\"#cb1-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>m3 <span class=\"dt\">Nothing</span> <span class=\"ot\">=</span> []</span></code></pre></div>"},"sha1":"322c58c1cacf8dc7e8de5b16c07bd1a997e7b5c9"},{"title":"5","attr":{"q":"<p>Write a short essay about how you may enjoy writing down the evident diagrams needed to prove the interchange law.</p>","a":"<p>Let's proove interchange law.</p>\n<p><span class=\"math inline\">\\left( \\beta &#39;\\cdot \\alpha &#39;\\right) \\circ \\left( \\beta \\cdot \\alpha \\right) =\\left( \\beta &#39;\\circ \\beta \\right) \\cdot \\left( \\alpha &#39;\\circ \\alpha \\right)</span></p>\n<p>Let's say each natural transformation is defined as</p>\n<p><span class=\"math inline\">\\alpha :F\\rightarrow F_{2}</span> <span class=\"math inline\">\\alpha &#39;:F_{2}\\rightarrow F_{3}</span> <span class=\"math inline\">\\beta :G\\rightarrow G_{2}</span> <span class=\"math inline\">\\beta &#39;:G_{2}\\rightarrow G_{3}</span></p>\n<p><img src=\"/answers/imgs/nat.JPG\" /></p>\n<p>Let's see what we get with first one.</p>\n<p><span class=\"math inline\">\\left( \\beta &#39;\\cdot \\alpha &#39;\\right) \\circ \\left( \\beta \\cdot \\alpha \\right)GF</span></p>\n<p>Using horizontal composition <span class=\"math inline\">=\\left( \\beta&#39;\\cdot \\alpha &#39;\\right) G_{2}F_{2}</span> Again, using horizontal composition <span class=\"math inline\">=G_{3}F_{3}</span></p>\n<p>Now the second one.</p>\n<p><span class=\"math inline\">\\left( \\beta &#39;\\circ \\beta \\right) \\cdot \\left( \\alpha &#39;\\circ \\alpha \\right)GF</span></p>\n<p>Unlike previous one, we cannot directly apply the <span class=\"math inline\">(\\alpha&#39; \\circ \\alpha)</span> to <span class=\"math inline\">GF</span>. No problem. We can composite horizontally with <span class=\"math inline\">id:G\\rightarrow G</span></p>\n<p><span class=\"math inline\">=\\left( \\beta &#39;\\circ \\beta\\right) \\cdot \\left( \\left( id\\cdot \\alpha &#39;\\right) \\circ \\left( id\\cdot \\alpha \\right) \\right)GF</span> <span class=\"math inline\">=\\left( \\beta&#39;\\circ \\beta\\right)GF_3</span></p>\n<p>Same way but this time with <span class=\"math inline\">id:F\\rightarrow F</span></p>\n<p><span class=\"math inline\">=\\left( \\left( \\beta&#39;\\cdot id\\right) \\circ \\left( \\beta \\cdot id\\right) \\right) GF_{3}</span> <span class=\"math inline\">=G_3 F_3</span></p>\n<p>Proooven BAMMM</p>"},"sha1":"4c44f9c0afdf05116157fbc98e2b2ca6ff88619b"},{"title":"4","attr":{"q":"<p>Show that horizontal composition of natural transformation satisfies the naturality condition (hint: use components). It's a good exercise in diagram chasing.</p>","a":"<p><img src=\"/answers/imgs/h.jpeg\" /></p>\n<table>\n<thead>\n<tr class=\"header\">\n<th>commuting square 1</th>\n<th>commuting square 2</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td><img src=\"/answers/imgs/h0.jpeg\" /></td>\n<td><img src=\"/answers/imgs/h1.jpeg\" /></td>\n</tr>\n</tbody>\n</table>"},"sha1":"1526a351d8eebc891d6d5729cfa379ed54e58bab"},{"title":"6","attr":{"q":"<p>Create a few test cases for the opposite naturality condition of transformations between different <code>Op</code> functors. Here's one choice:</p>\n<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">op ::</span> <span class=\"dt\">Op</span> <span class=\"dt\">Bool</span> <span class=\"dt\">Int</span></span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>op <span class=\"ot\">=</span> <span class=\"dt\">Op</span> (\\x <span class=\"ot\">-&gt;</span> x <span class=\"op\">&gt;</span> <span class=\"dv\">0</span>)</span></code></pre></div>\n<p>and</p>\n<div class=\"sourceCode\" id=\"cb2\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb2-1\"><a href=\"#cb2-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">f ::</span> <span class=\"dt\">String</span> <span class=\"ot\">-&gt;</span> <span class=\"dt\">Int</span></span>\n<span id=\"cb2-2\"><a href=\"#cb2-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>f x <span class=\"ot\">=</span> <span class=\"fu\">read</span> x</span></code></pre></div>","a":"<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">import</span> <span class=\"dt\">Data.Functor.Contravariant</span></span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">op ::</span> <span class=\"dt\">Op</span> <span class=\"dt\">Bool</span> <span class=\"dt\">Int</span></span>\n<span id=\"cb1-4\"><a href=\"#cb1-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>op <span class=\"ot\">=</span> <span class=\"dt\">Op</span> (\\x <span class=\"ot\">-&gt;</span> x <span class=\"op\">&gt;</span> <span class=\"dv\">0</span>)</span>\n<span id=\"cb1-5\"><a href=\"#cb1-5\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-6\"><a href=\"#cb1-6\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-7\"><a href=\"#cb1-7\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">tc1 ::</span> <span class=\"dt\">Op</span> <span class=\"dt\">Bool</span> a <span class=\"ot\">-&gt;</span> <span class=\"dt\">Op</span> <span class=\"dt\">Float</span> a</span>\n<span id=\"cb1-8\"><a href=\"#cb1-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>tc1 (<span class=\"dt\">Op</span> f) <span class=\"ot\">=</span> <span class=\"dt\">Op</span> (\\x <span class=\"ot\">-&gt;</span> <span class=\"kw\">if</span> f x <span class=\"kw\">then</span> <span class=\"dv\">1</span> <span class=\"kw\">else</span> <span class=\"dv\">0</span>)</span>\n<span id=\"cb1-9\"><a href=\"#cb1-9\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-10\"><a href=\"#cb1-10\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">test ::</span> (<span class=\"dt\">Op</span> <span class=\"dt\">Float</span> <span class=\"dt\">String</span>) <span class=\"ot\">-&gt;</span> <span class=\"dt\">Float</span></span>\n<span id=\"cb1-11\"><a href=\"#cb1-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>test (<span class=\"dt\">Op</span> f) <span class=\"ot\">=</span> f <span class=\"st\">&quot;5&quot;</span></span>\n<span id=\"cb1-12\"><a href=\"#cb1-12\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-13\"><a href=\"#cb1-13\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">tc1out1 ::</span> <span class=\"dt\">IO</span> ()</span>\n<span id=\"cb1-14\"><a href=\"#cb1-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>tc1out1 <span class=\"ot\">=</span> <span class=\"kw\">do</span></span>\n<span id=\"cb1-15\"><a href=\"#cb1-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> o1 <span class=\"ot\">=</span> (contramap <span class=\"fu\">read</span> <span class=\"op\">.</span> tc1) op</span>\n<span id=\"cb1-16\"><a href=\"#cb1-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> o2 <span class=\"ot\">=</span> (tc1 <span class=\"op\">.</span> contramap <span class=\"fu\">read</span>) op</span>\n<span id=\"cb1-17\"><a href=\"#cb1-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"fu\">print</span> (test o1 <span class=\"op\">==</span> test o2)</span></code></pre></div>"},"sha1":"3eb1db07436c76a4fdbd15bb743e99a960a24131"},{"title":"1","attr":{"q":"<p>Define a natural transformation from the <code>Maybe</code> functor to the list functor. Prove the naturality condition for it.</p>","a":"<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">nt ::</span> <span class=\"dt\">Maybe</span> a <span class=\"ot\">-&gt;</span> [a]</span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>nt <span class=\"dt\">Nothing</span> <span class=\"ot\">=</span> []</span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>nt (<span class=\"dt\">Just</span> a) <span class=\"ot\">=</span> [a]</span>\n<span id=\"cb1-4\"><a href=\"#cb1-4\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">-- fmap f (nt Nothing) = fmap f [] = []</span></span>\n<span id=\"cb1-5\"><a href=\"#cb1-5\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">-- fmap f (nt Just a) = fmap f [a] = [b]</span></span>\n<span id=\"cb1-6\"><a href=\"#cb1-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">-- nt fmap f Nothing = nt Nothing = []</span></span>\n<span id=\"cb1-7\"><a href=\"#cb1-7\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">-- nt fmap f (Just a) = nt (Just b) = [b]</span></span></code></pre></div>"},"sha1":"28fcb94542ef5b08075b96228fd8669690422818"}]}