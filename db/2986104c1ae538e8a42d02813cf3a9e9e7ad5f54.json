{
    "item": {
        "attr": {
            "a": "<p>Let's first choose <span class=\"math inline\">k</span> people from the\n<span class=\"math inline\">N</span> guests.</p>\n<p><span class=\"math display\">{N \\choose k}</span></p>\n<p>Let <span class=\"math inline\">A</span> be the case that the choosen\n<span class=\"math inline\">i</span> people get their original hats, and\n<span class=\"math inline\">B</span> the all the other people get a wrong\nhat. Multiply <span class=\"math inline\">A \\cap B</span> to the\ncombination and we get what we want.</p>\n<p><span class=\"math display\">P(X_N = i) \\\\\n= {N \\choose k}P(A \\cap B) \\\\\n= {N \\choose k}P(B|A)P(A) \\\\</span></p>\n<p><span class=\"math inline\">A</span> is like permutation of all the\npeople other than those <span class=\"math inline\">k</span>.</p>\n<p><span class=\"math display\">= {\\cfrac{N!}{k!(N -\nk)!}}P(B|A){\\cfrac{(N-k)!}{N!}}</span></p>\n<p>For the <span class=\"math inline\">P(B|A)</span>, given that those\n<span class=\"math inline\">k</span> already got the right hats, it's\nsimply that nobody in the rest <span class=\"math inline\">N - k</span>\npeople gets the right hat, which is <span\nclass=\"math inline\">P(X_{N-k}=0)</span>.</p>\n<p><span class=\"math display\">= {\\cfrac{N!}{k!(N -\nk)!}}{P(X_{N-k}=0)}{\\cfrac{(N-k)!}{N!}} \\\\\n=  \\cfrac{P(X_{N-k}=0)}{k!}</span></p>\n<p>I've made a validation code.</p>\n<div class=\"sourceCode\" id=\"cb1\"><pre\nclass=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">problem3_6 ::</span> <span class=\"dt\">IO</span> ()</span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>problem3_6 <span class=\"ot\">=</span> <span class=\"kw\">do</span></span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> sampleSize <span class=\"ot\">=</span> <span class=\"dv\">999999</span></span>\n<span id=\"cb1-4\"><a href=\"#cb1-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> n <span class=\"ot\">=</span> <span class=\"dv\">5</span></span>\n<span id=\"cb1-5\"><a href=\"#cb1-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> k <span class=\"ot\">=</span> <span class=\"dv\">2</span></span>\n<span id=\"cb1-6\"><a href=\"#cb1-6\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> randomVars <span class=\"ot\">=</span> <span class=\"fu\">take</span> sampleSize <span class=\"op\">$</span> <span class=\"fu\">map</span> (randomVar6 n) [<span class=\"dv\">0</span><span class=\"op\">..</span>]</span>\n<span id=\"cb1-7\"><a href=\"#cb1-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> xs <span class=\"ot\">=</span> <span class=\"fu\">filter</span> (k<span class=\"op\">==</span>) randomVars</span>\n<span id=\"cb1-8\"><a href=\"#cb1-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"fu\">print</span> <span class=\"op\">$</span> approxRatio (<span class=\"fu\">length</span> xs) sampleSize</span>\n<span id=\"cb1-9\"><a href=\"#cb1-9\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-10\"><a href=\"#cb1-10\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">randomVar6 ::</span> <span class=\"dt\">Int</span> <span class=\"ot\">-&gt;</span> <span class=\"dt\">Int</span> <span class=\"ot\">-&gt;</span> <span class=\"dt\">Int</span></span>\n<span id=\"cb1-11\"><a href=\"#cb1-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>randomVar6 n seed <span class=\"ot\">=</span> <span class=\"fu\">length</span> <span class=\"op\">$</span> <span class=\"fu\">filter</span> (<span class=\"dv\">0</span><span class=\"op\">==</span>) <span class=\"op\">$</span> <span class=\"fu\">zipWith</span> (<span class=\"op\">-</span>) ar sh</span>\n<span id=\"cb1-12\"><a href=\"#cb1-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"kw\">where</span> ar <span class=\"ot\">=</span> [<span class=\"dv\">0</span><span class=\"op\">..</span>n<span class=\"op\">-</span><span class=\"dv\">1</span>]</span>\n<span id=\"cb1-13\"><a href=\"#cb1-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>                  sh <span class=\"ot\">=</span> shuffle&#39; ar n (mkStdGen seed)</span></code></pre></div>\n<p>and I tested with few different parameters and the output was clase\nenough to support the result.</p>",
            "q": "<p><span class=\"math inline\">N</span> guests arrive at a party. Each\nperson is wearing a hat. We collect all the hats and then randomly\nredistribute the hats, giving each person one of the <span\nclass=\"math inline\">N</span> hats randomly. Let <span\nclass=\"math inline\">X_N</span> be the number of people who receive their\nown hats. Find the PMF of <span class=\"math inline\">X_N</span>.</p>\n<p>Hint: We previously found that (Problem 7 in Section 2.1.5)</p>\n<p><span\nclass=\"math display\">P(X_N=0)=\\frac{1}{2!}-\\frac{1}{3!}+\\frac{1}{4!}-\n\\cdots (-1)^N\\frac{1}{N!}</span></p>\n<p>for <span class=\"math inline\">N=1,2, \\cdots</span>. Using this, find\n<span class=\"math inline\">P(X_N=k)</span> for all <span\nclass=\"math inline\">k \\in \\{0,1, \\cdots N\\}</span></p>"
        },
        "numAnswer": 1,
        "sha1": "2986104c1ae538e8a42d02813cf3a9e9e7ad5f54",
        "title": "6"
    },
    "kids": [],
    "parentSha1": "9941ceb79c24e8959312cd6eef9a053291cbd552",
    "path": "answers-db/books/Introduction to Probability, Statistics, and Random Processes/3.3.0/6"
}