{"parentSha1":"820c27fc79eeec6c65fa4dcf06752f97997bca0a","path":"answers-db/books/Category Theory For Programmers/10. Natural Transformations/6","item":{"title":"6","attr":{"q":"<p>Create a few test cases for the opposite naturality condition of transformations between different <code>Op</code> functors. Here's one choice:</p>\n<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">op ::</span> <span class=\"dt\">Op</span> <span class=\"dt\">Bool</span> <span class=\"dt\">Int</span></span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>op <span class=\"ot\">=</span> <span class=\"dt\">Op</span> (\\x <span class=\"ot\">-&gt;</span> x <span class=\"op\">&gt;</span> <span class=\"dv\">0</span>)</span></code></pre></div>\n<p>and</p>\n<div class=\"sourceCode\" id=\"cb2\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb2-1\"><a href=\"#cb2-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">f ::</span> <span class=\"dt\">String</span> <span class=\"ot\">-&gt;</span> <span class=\"dt\">Int</span></span>\n<span id=\"cb2-2\"><a href=\"#cb2-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>f x <span class=\"ot\">=</span> <span class=\"fu\">read</span> x</span></code></pre></div>","a":"<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode haskell\"><code class=\"sourceCode haskell\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">import</span> <span class=\"dt\">Data.Functor.Contravariant</span></span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">op ::</span> <span class=\"dt\">Op</span> <span class=\"dt\">Bool</span> <span class=\"dt\">Int</span></span>\n<span id=\"cb1-4\"><a href=\"#cb1-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>op <span class=\"ot\">=</span> <span class=\"dt\">Op</span> (\\x <span class=\"ot\">-&gt;</span> x <span class=\"op\">&gt;</span> <span class=\"dv\">0</span>)</span>\n<span id=\"cb1-5\"><a href=\"#cb1-5\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-6\"><a href=\"#cb1-6\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-7\"><a href=\"#cb1-7\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">tc1 ::</span> <span class=\"dt\">Op</span> <span class=\"dt\">Bool</span> a <span class=\"ot\">-&gt;</span> <span class=\"dt\">Op</span> <span class=\"dt\">Float</span> a</span>\n<span id=\"cb1-8\"><a href=\"#cb1-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>tc1 (<span class=\"dt\">Op</span> f) <span class=\"ot\">=</span> <span class=\"dt\">Op</span> (\\x <span class=\"ot\">-&gt;</span> <span class=\"kw\">if</span> f x <span class=\"kw\">then</span> <span class=\"dv\">1</span> <span class=\"kw\">else</span> <span class=\"dv\">0</span>)</span>\n<span id=\"cb1-9\"><a href=\"#cb1-9\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-10\"><a href=\"#cb1-10\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">test ::</span> (<span class=\"dt\">Op</span> <span class=\"dt\">Float</span> <span class=\"dt\">String</span>) <span class=\"ot\">-&gt;</span> <span class=\"dt\">Float</span></span>\n<span id=\"cb1-11\"><a href=\"#cb1-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>test (<span class=\"dt\">Op</span> f) <span class=\"ot\">=</span> f <span class=\"st\">&quot;5&quot;</span></span>\n<span id=\"cb1-12\"><a href=\"#cb1-12\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-13\"><a href=\"#cb1-13\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ot\">tc1out1 ::</span> <span class=\"dt\">IO</span> ()</span>\n<span id=\"cb1-14\"><a href=\"#cb1-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>tc1out1 <span class=\"ot\">=</span> <span class=\"kw\">do</span></span>\n<span id=\"cb1-15\"><a href=\"#cb1-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> o1 <span class=\"ot\">=</span> (contramap <span class=\"fu\">read</span> <span class=\"op\">.</span> tc1) op</span>\n<span id=\"cb1-16\"><a href=\"#cb1-16\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">let</span> o2 <span class=\"ot\">=</span> (tc1 <span class=\"op\">.</span> contramap <span class=\"fu\">read</span>) op</span>\n<span id=\"cb1-17\"><a href=\"#cb1-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"fu\">print</span> (test o1 <span class=\"op\">==</span> test o2)</span></code></pre></div>"},"sha1":"3eb1db07436c76a4fdbd15bb743e99a960a24131"},"kids":[]}